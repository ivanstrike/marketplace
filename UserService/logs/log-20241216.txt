2024-12-16 11:26:18.959 +03:00 [INF] User profile is available. Using 'C:\Users\ria-2\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-16 11:26:20.449 +03:00 [INF] Now listening on: https://localhost:7225
2024-12-16 11:26:20.451 +03:00 [INF] Now listening on: http://localhost:5151
2024-12-16 11:26:20.715 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-16 11:26:20.717 +03:00 [INF] Hosting environment: Development
2024-12-16 11:26:20.720 +03:00 [INF] Content root path: D:\marketplace\microservices\UserService
2024-12-16 11:26:21.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/index.html - null null
2024-12-16 11:26:21.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/index.html - 200 null text/html;charset=utf-8 248.674ms
2024-12-16 11:26:21.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/_framework/aspnetcore-browser-refresh.js - null null
2024-12-16 11:26:21.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/_vs/browserLink - null null
2024-12-16 11:26:21.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/_framework/aspnetcore-browser-refresh.js - 200 13767 application/javascript; charset=utf-8 21.013ms
2024-12-16 11:26:21.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.7582ms
2024-12-16 11:26:21.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/v1/swagger.json - null null
2024-12-16 11:26:21.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.2808ms
2024-12-16 11:26:41.391 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7225/api/User - application/json 70
2024-12-16 11:26:42.258 +03:00 [INF] Executing endpoint 'UserMicroservice.Controllers.UserController.AddUserAsync (UserMicroservice)'
2024-12-16 11:26:42.286 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserMicroservice.Model.User]] AddUserAsync(UserMicroservice.Model.CreateUserDTO) on controller UserMicroservice.Controllers.UserController (UserMicroservice).
2024-12-16 11:26:42.324 +03:00 [INF] Creating a new user with email string228
2024-12-16 11:26:42.776 +03:00 [INF] Executing CreatedResult, writing value of type 'UserMicroservice.Model.User'.
2024-12-16 11:26:42.788 +03:00 [INF] Executed action UserMicroservice.Controllers.UserController.AddUserAsync (UserMicroservice) in 496.9572ms
2024-12-16 11:26:42.789 +03:00 [INF] Executed endpoint 'UserMicroservice.Controllers.UserController.AddUserAsync (UserMicroservice)'
2024-12-16 11:26:42.794 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7225/api/User - 201 null application/json; charset=utf-8 1402.484ms
2024-12-16 11:26:52.788 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7225/api/Auth/login - application/json 50
2024-12-16 11:26:52.794 +03:00 [INF] Executing endpoint 'UserMicroservice.Controllers.AuthController.Login (UserMicroservice)'
2024-12-16 11:26:52.801 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UserMicroservice.Model.UserLoginDTO) on controller UserMicroservice.Controllers.AuthController (UserMicroservice).
2024-12-16 11:26:53.209 +03:00 [INF] Executed action UserMicroservice.Controllers.AuthController.Login (UserMicroservice) in 405.4437ms
2024-12-16 11:26:53.212 +03:00 [INF] Executed endpoint 'UserMicroservice.Controllers.AuthController.Login (UserMicroservice)'
2024-12-16 11:26:53.281 +03:00 [ERR] An unhandled exception occurred.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '176' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at UserMicroservice.Controllers.AuthController.GenerateJwtToken(Guid userId) in D:\marketplace\microservices\UserService\Controllers\AuthController.cs:line 58
   at UserMicroservice.Controllers.AuthController.Login(UserLoginDTO loginDto) in D:\marketplace\microservices\UserService\Controllers\AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at UserMicroservice.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\marketplace\microservices\UserService\Middleware\ExceptionHandlingMiddleware.cs:line 21
2024-12-16 11:26:53.330 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7225/api/Auth/login - 500 null application/json 542.8181ms
2024-12-16 11:27:39.097 +03:00 [INF] User profile is available. Using 'C:\Users\ria-2\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-16 11:27:39.362 +03:00 [INF] Now listening on: https://localhost:7225
2024-12-16 11:27:39.363 +03:00 [INF] Now listening on: http://localhost:5151
2024-12-16 11:27:39.406 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-16 11:27:39.407 +03:00 [INF] Hosting environment: Development
2024-12-16 11:27:39.407 +03:00 [INF] Content root path: D:\marketplace\microservices\UserService
2024-12-16 11:27:39.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/index.html - null null
2024-12-16 11:27:39.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/index.html - 200 null text/html;charset=utf-8 182.1082ms
2024-12-16 11:27:39.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/_vs/browserLink - null null
2024-12-16 11:27:39.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/_framework/aspnetcore-browser-refresh.js - null null
2024-12-16 11:27:39.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/_framework/aspnetcore-browser-refresh.js - 200 13767 application/javascript; charset=utf-8 12.3423ms
2024-12-16 11:27:39.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.2346ms
2024-12-16 11:27:40.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/v1/swagger.json - null null
2024-12-16 11:27:40.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.6933ms
2024-12-16 11:27:49.581 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7225/api/Auth/login - application/json 50
2024-12-16 11:27:49.605 +03:00 [INF] Executing endpoint 'UserMicroservice.Controllers.AuthController.Login (UserMicroservice)'
2024-12-16 11:27:49.621 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UserMicroservice.Model.UserLoginDTO) on controller UserMicroservice.Controllers.AuthController (UserMicroservice).
2024-12-16 11:27:49.931 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-16 11:27:49.940 +03:00 [INF] Executed action UserMicroservice.Controllers.AuthController.Login (UserMicroservice) in 314.3778ms
2024-12-16 11:27:49.941 +03:00 [INF] Executed endpoint 'UserMicroservice.Controllers.AuthController.Login (UserMicroservice)'
2024-12-16 11:27:49.945 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7225/api/Auth/login - 200 null application/json; charset=utf-8 364.0381ms
2024-12-16 11:27:55.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/api/User/list - null null
2024-12-16 11:27:55.128 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-16 11:27:55.133 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-16 11:27:55.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/api/User/list - 401 0 null 13.7123ms
2024-12-16 11:29:39.572 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7225/api/User/list - null null
2024-12-16 11:29:39.607 +03:00 [INF] Executing endpoint 'UserMicroservice.Controllers.UserController.GetUserListAsync (UserMicroservice)'
2024-12-16 11:29:39.612 +03:00 [INF] Route matched with {action = "GetUserList", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserMicroservice.Model.User]]] GetUserListAsync() on controller UserMicroservice.Controllers.UserController (UserMicroservice).
2024-12-16 11:29:39.616 +03:00 [INF] Fetching the list of users.
2024-12-16 11:29:39.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserMicroservice.Model.User, UserMicroservice, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-16 11:29:39.639 +03:00 [INF] Executed action UserMicroservice.Controllers.UserController.GetUserListAsync (UserMicroservice) in 24.7964ms
2024-12-16 11:29:39.641 +03:00 [INF] Executed endpoint 'UserMicroservice.Controllers.UserController.GetUserListAsync (UserMicroservice)'
2024-12-16 11:29:39.643 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7225/api/User/list - 200 null application/json; charset=utf-8 70.5319ms
2024-12-16 11:29:53.267 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7225/api/User/list - null null
2024-12-16 11:29:53.272 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-16 11:29:53.273 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-16 11:29:53.275 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7225/api/User/list - 401 0 null 7.8289ms
2024-12-16 11:30:30.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/index.html - null null
2024-12-16 11:30:30.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/index.html - 200 null text/html;charset=utf-8 8.5157ms
2024-12-16 11:30:30.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/_framework/aspnetcore-browser-refresh.js - null null
2024-12-16 11:30:30.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/_vs/browserLink - null null
2024-12-16 11:30:30.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/_framework/aspnetcore-browser-refresh.js - 200 13767 application/javascript; charset=utf-8 3.339ms
2024-12-16 11:30:30.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.6296ms
2024-12-16 11:30:30.658 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/v1/swagger.json - null null
2024-12-16 11:30:30.673 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.0703ms
2024-12-16 11:30:30.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/swagger/favicon-32x32.png - null null
2024-12-16 11:30:30.700 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-12-16 11:30:30.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/swagger/favicon-32x32.png - 200 628 image/png 10.4084ms
2024-12-16 11:30:48.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7225/api/User/list - null null
2024-12-16 11:30:48.968 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-16 11:30:48.970 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-16 11:30:48.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7225/api/User/list - 401 0 null 5.2041ms
